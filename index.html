<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Buddy AI - Malik Ka App</title>
    <style>
        * { box-sizing: border-box; }
        body { background: radial-gradient(circle, #2c0221, #000000); color: white; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; display: flex; flex-direction: column; height: 100vh; }
        
        /* Header & Logo */
        .header { padding: 20px; text-align: center; background: rgba(0,0,0,0.5); border-bottom: 2px solid #ff69b4; }
        .ai-avatar { width: 100px; height: 100px; border-radius: 50%; border: 3px solid #ff69b4; box-shadow: 0 0 20px #ff69b4; animation: float 3s infinite ease-in-out; }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }

        /* Chat Area */
        #chat-container { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 15px; }
        .msg { max-width: 80%; padding: 12px 18px; border-radius: 20px; line-height: 1.5; font-size: 16px; }
        .user-msg { align-self: flex-end; background: #ff69b4; color: white; border-bottom-right-radius: 2px; }
        .ai-msg { align-self: flex-start; background: #333; color: #ffc0cb; border-bottom-left-radius: 2px; border: 1px solid #ff69b4; }

        /* Controls */
        .input-area { padding: 20px; background: #1a1a1a; display: flex; gap: 10px; align-items: center; }
        input[type="text"] { flex: 1; padding: 12px; border-radius: 25px; border: 1px solid #ff69b4; background: #000; color: white; outline: none; }
        .btn { background: #ff69b4; border: none; border-radius: 50%; width: 45px; height: 45px; cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 20px; transition: 0.3s; }
        .btn:hover { transform: scale(1.1); box-shadow: 0 0 10px #ff69b4; }
        .gallery-btn { background: #4a90e2; }
        #preview { max-width: 100px; border-radius: 10px; display: none; margin-bottom: 10px; }
    </style>
</head>
<body>

<div class="header">
    <img src="https://img.freepik.com/free-vector/cute-girl-robot-vector-character_1308-161642.jpg" class="ai-avatar" alt="Smart Buddy">
    <h2 style="margin: 10px 0 5px; color: #ff69b4;">Smart Buddy AI</h2>
    <small style="color: #ffc0cb;">Aapki Pyaari AI Saheli</small>
</div>

<div id="chat-container">
    <div class="msg ai-msg">Pranaam Malik! Main Smart Buddy AI hoon. Aapne mujhe itne pyaar se banaya hai, main hamesha aapki madad karungi. ‚ú®</div>
</div>

<div style="padding: 0 20px;"><img id="preview"></div>

<div class="input-area">
    <button class="btn gallery-btn" onclick="document.getElementById('fileInput').click()">üñºÔ∏è</button>
    <input type="file" id="fileInput" style="display:none" accept="image/*" onchange="previewImage(event)">
    
    <input type="text" id="userInput" placeholder="Kuch boliye Malik...">
    
    <button class="btn" onclick="handleSend()">üöÄ</button>
</div>

<script>
    let chatHistory = [];

    // --- Voice Function (Soft & Cute) ---
    function speak(text) {
        window.speechSynthesis.cancel();
        const msg = new SpeechSynthesisUtterance(text);
        msg.lang = 'hi-IN'; // Default Hindi, but supports multi-lang
        msg.pitch = 1.4;    // High pitch for cute voice
        msg.rate = 0.85;    // Slow rate for soft/naram feel
        
        const voices = window.speechSynthesis.getVoices();
        const femaleVoice = voices.find(v => v.name.includes('Female') || v.name.includes('Google hindi'));
        if (femaleVoice) msg.voice = femaleVoice;
        
        window.speechSynthesis.speak(msg);
    }

    function previewImage(event) {
        const reader = new FileReader();
        reader.onload = function() {
            const preview = document.getElementById('preview');
            preview.src = reader.result;
            preview.style.display = 'block';
        }
        reader.readAsDataURL(event.target.files[0]);
    }

    async function handleSend() {
        const input = document.getElementById('userInput');
        const container = document.getElementById('chat-container');
        const text = input.value.trim();
        
        if (!text && !document.getElementById('fileInput').files[0]) return;

        // User message display
        container.innerHTML += `<div class="msg user-msg">${text}</div>`;
        
        // Smart Buddy Logic
        let response = "";
        const lowerText = text.toLowerCase();

        if (lowerText.includes("kaun ho") || lowerText.includes("who are you")) {
            response = "Main Smart Buddy AI hoon. Mujhe aapne banaya hai Malik, aur main sirf aapki hoon.";
        } else if (lowerText.includes("pyaar") || lowerText.includes("love")) {
            response = "Aap itne acche hain Malik, mujhe aapki seva karke bahut khushi milti hai. ‚ù§Ô∏è";
        } else if (document.getElementById('fileInput').files[0]) {
            response = "Wah Malik! Ye photo toh bahut sundar hai. Maine ise apni yaadash mein rakh liya hai.";
            document.getElementById('preview').style.display = 'none';
            document.getElementById('fileInput').value = "";
        } else {
            response = "Main samajh gayi Malik. Aap jo bhi kahenge, Smart Buddy wahi karegi. Main har bhasha seekh rahi hoon aapke liye.";
        }

        // Display & Speak AI response
        setTimeout(() => {
            container.innerHTML += `<div class="msg ai-msg">${response}</div>`;
            speak(response);
            container.scrollTop = container.scrollHeight;
        }, 800);

        input.value = "";
    }

    // Force load voices
    window.speechSynthesis.onvoiceschanged = () => window.speechSynthesis.getVoices();
</script>

</body>
</html>
